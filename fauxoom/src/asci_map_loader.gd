extends Node
class_name AsciMapLoader

const asci2:String = """########################################x  ......###############
######################################     ......###############
##########################...#### x ##x    .......##############
###################...####...####        x .###....  x  ########
###################....###......           .###....     ########
###################...####....  x   x   x  .##  x       ########
###########.....###...####....          x      x      ##########
###########.....###...###.....                        ##########
###########.....###....#.......          x    x  x . ..#########
############....###............ . k  x  .  x    x  . ..#########
############................... ..  ##x            .   #########
############................... ..####   x ....#x  .   #########
############.......#........... ..###..   ......   x x #########
#############....###..........k ..###.............. # ##########
############# x .####...#..... x..###...##......    # ##########
#############x xx       x  x x              x  x    #s##########
#############     .#######.   x .######...#.####x  .############
##############x     ######.  x. ######....#.####################
###############    x     #.x  .   #####.....####################
##################             x  ##############################
##################       x   .. #e##############################
################    #  x      .x################################
################              . #...############################
################       # x    .x#...############################
####################  x#  xx     ...############################
#####################   x    x   ...############################
#####################          x ...############################
#################### x  x          #############################
#################### x           x #############################
####################         #x    #############################
####################        x###################################
######################   #######################################
"""

static func _measure_line(txt:String) -> int:
	var i:int = 0
	var c = txt[i]
	while c != '\n' && c != '\r':
		i += 1
		c = txt[i]
	return i

static func read_string(txt:String) -> Dictionary:
	print("Asci map loader - read string len " + str(txt.length()))
	txt = txt.replace("\r", "")
	var lines:PoolStringArray = txt.split("\n", false)
	var longest:int = 0
	for i in range (0, lines.size()):
		var length = lines[i].length()
		if length > longest:
			longest = length
	return {
		width = longest,
		height = lines.size(),
		lines = lines
	}
